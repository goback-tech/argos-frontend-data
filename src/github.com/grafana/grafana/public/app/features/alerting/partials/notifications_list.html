<page-header model="ctrl.navModel"></page-header>

<div class="page-container page-body">

  <div ng-if="ctrl.notifications.length">
    <div class="page-action-bar">
      <div class="page-action-bar__spacer">
      </div>

      <a href="alerting/notification/new" class="btn btn-success">
        <i class="fa fa-plus"></i>
        새 채널
      </a>
    </div>

    <table class="filter-table filter-table--hover">
      <thead>
        <th style="min-width: 200px">
          <strong>이름</strong>
        </th>
        <th style="min-width: 100px">타입</th>
        <th style="width: 1%"></th>
      </thead>
      <tbody>
        <tr ng-repeat="notification in ctrl.notifications">
          <td class="link-td">
            <a href="alerting/notification/{{notification.id}}/edit">
              {{notification.name}}
            </a>
          </td>
          <td class="link-td">
            <a href="alerting/notification/{{notification.id}}/edit">
              {{notification.type}}
            </a>
          </td>
          <td class="text-right">
            <span class="btn btn-secondary btn-small" ng-show="notification.isDefault == true">
              기본
            </span>
            <a ng-click="ctrl.deleteNotification(notification.id)" class="btn btn-danger btn-small">
              <i class="fa fa-remove"></i>
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div ng-if="ctrl.notifications.length === 0">
    <empty-list-cta model="{
      title: '정의된 알림 채널이 없습니다.',
      buttonIcon: 'gicon gicon-add-alert-notification-channel',
      buttonLink: 'alerting/notification/new',
      buttonTitle: '채널추가',
      proTip: '알람에 이미지를 추가할 수 있습니다.',
      proTipLink: 'http://docs.grafana.org/alerting/notifications/',
      proTipLinkTitle: '더 알아보기',
      proTipTarget: '_blank'
    }" />
  </div>
</div>
